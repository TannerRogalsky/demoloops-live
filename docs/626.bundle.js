(self.webpackChunkdemoloops_js=self.webpackChunkdemoloops_js||[]).push([[626],{626:(e,t,n)=>{"use strict";n.r(t);var o=n(634),r=n(631),a=n.n(r),i=n(935),l=n(294);const s="fn update(ratio, width, height) {\n    let ctx = Context();\n    ctx.clear(Color(0.4, 0.4, 0.8, 1.0));\n\n    ctx.set_canvas(resources.canvas);\n    ctx.clear(Color(1.0, 1.0, 1.0, 1.0));\n    let shape = RegularPolygon(0.0, 0.0, 6, 720.0 * 0.75);\n    let tx = Translation(720.0 / 2.0, 720.0 / 2.0);\n    let SHAPES = 5;\n    for shape_index in range(0, SHAPES) {\n        let shape_ratio = 1.0 - shape_index.to_float() / SHAPES.to_float() + ratio % 0.2;\n        let tx = tx * Scale(shape_ratio);\n        ctx.draw(shape, hsl(shape_ratio, 1.0, 0.5), tx);\n    }\n    ctx.set_canvas();\n\n    let Z_INCR = -5.0;\n    let Y_AXIS = 8;\n    let X_AXIS = 4;\n\n    let tx = Translation(0.0, 0.0, Z_INCR * (1.0 - ratio));\n\n    for z in range(-1, 50) {\n        for y in range(0, Y_AXIS) {\n            let y_ratio = y.to_float() / Y_AXIS.to_float();\n            for x in range(0, X_AXIS) {\n                let index = x + y * X_AXIS;\n                let inner_ratio = index.to_float() / (X_AXIS * Y_AXIS).to_float();\n\n                let z = z.to_float() * Z_INCR - (inner_ratio * 360.0 * 4.0).sin() * Z_INCR * 0.8;\n\n                let phi = (inner_ratio + ratio * 0.25) * 360.0;\n\n                let rotate = ratio * 360.0 * 0.25;\n\n                let box_geom = Box(1.0, 1.0, 1.0);\n                let tx = tx * Translation(0.0, 0.0, z);\n                let tx = tx * Rotation(0.0, 0.0, phi);\n                let tx = tx * Translation(2.0 * (ratio * 180.0).sin() + 1.0, 0.0, 0.0);\n                let tx = tx * Rotation(0.0, rotate, 0.0);\n                ctx.image(box_geom, resources.canvas, tx);\n            }\n        }\n    }\n\n    ctx\n}";function c(e){return l.createElement("div",{id:"container"},l.createElement("div",{id:"codeMirrorContainer",ref:t=>{if(t&&!e.editor){let n=a()(t,{value:s,mode:"rhai",theme:"default",lineNumbers:!0,indentUnit:4,matchBrackets:!0,viewportMargin:1/0,foldGutter:{rangeFinder:a().fold.brace},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],styleActiveLine:!0,highlightSelectionMatches:{minChars:3,showToken:!0,annotateScrollbar:!0},rulers:[{column:80,color:"#ccc"}],autoCloseBrackets:{pairs:"()[]{}''\"\"",closeBefore:")]}'\":;,",triples:"",explode:"()[]{}"},extraKeys:{Tab:e=>{e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")},"Ctrl-/":"toggleComment"}});n.on("change",((t,n)=>{const o=e.loop.update(t.getValue());o&&console.error(o)})),e.editor=n}}}),l.createElement("div",{id:"loopContainer"},l.createElement("canvas",{id:"canvas",ref:e.loopRef})))}n(380),n(504),n(511),n(801),n(328),n(688),n(700),n(138),n(366),n(17);var d=n(379),x=n.n(d),_=n(452);x()(_.Z,{insert:"head",singleton:!1}),_.Z.locals,(0,o.kO3)(a().Pass),a().defineMode("rhai",((e,t)=>new o.G9U(e.indentUnit)));let h=document.createElement("div");document.body.appendChild(h);const p={loopRef:e=>{let t=new o.F_z;t.update(s);let n=()=>{t.step(),requestAnimationFrame(n)};requestAnimationFrame(n),p.loop=t,i.render(c(p),h)},loop:null};i.render(c(p),h)},452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,"#container {\r\n\tdisplay: flex;\r\n}\r\n\r\n#codeMirrorContainer {\r\n\tflex-grow: 1;\r\n}\r\n\r\n#loopContainer {}\r\n\r\n.CodeMirror {\r\n\theight: auto;\r\n}",""]);const a=r}}]);